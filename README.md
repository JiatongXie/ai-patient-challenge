# AI 问诊小游戏

这是一个使用 Python 和 LangGraph 开发的 AI 问诊小游戏。在游戏中，玩家扮演医生，需要通过询问病人的症状来正确诊断出病人的疾病。

## 游戏角色

1. **病人**：来到医院问诊室的患者，向医生描述症状。
2. **身体**：了解病人的具体病名，但只会向病人提供症状信息。
3. **系统**：管理游戏进程，判断游戏是否结束，检查各方回复的合理性。
4. **医生**：由玩家扮演，通过与病人交流诊断疾病。

## 游戏流程

1. 游戏从病人问好开始
2. 病人每次收到医生的回复后，可以决定是否与身体交流，然后向医生作出回复
3. 系统会审核每条消息，判断格式和逻辑的正确性
4. 当医生正确诊断出病人的疾病时，游戏结束

## 安装与运行

### 使用 uv 安装依赖

游戏使用 uv 管理 Python 环境：

```bash
# 运行启动脚本
./start_game.sh
```

启动脚本会自动：

1. 检查并创建.env 文件（如果不存在）
2. 创建虚拟环境
3. 安装依赖
4. 运行游戏

### 环境变量配置

游戏使用.env 文件管理环境变量，需要配置以下变量：

```
# OpenAI API配置
ARK_API_KEY=your_api_key_here
API_BASE_URL=https://ark.cn-beijing.volces.com/api/v3
MODEL_ID=your_model_id
```

请确保替换`ARK_API_KEY`为您的实际 API 密钥。

## 游戏记录

每次对话都会保存在`conversations`目录下，文件名格式为`conversation_YYYYMMDD_HHMMSS.txt`。
